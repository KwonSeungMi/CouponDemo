<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
 
<mapper namespace="com.coupon.dao.CouponDao">
    <!-- 쿠폰 전체 개수 -->
    <select id="getCouponCnt" resultType="int">
        select count(*) 
        from tcouponmst;  
    </select>
    
    <!-- 쿠폰 리스트 조회 -->
    <select id="getCouponList" resultType="com.coupon.domain.ResCouponList" parameterType="java.util.HashMap">
        select couponid, emailaddr, couponno, regdate
        from   tcouponmst
        order by regdate desc
        limit #{start}, #{end}
    </select>
    
    <!-- 쿠폰 생성 -->
    <insert id="insCoupon" parameterType="java.util.HashMap">
        insert into tcouponmst (couponno, emailaddr, pubymd, usestatecode)
                         values('s5sad4', #{email}, '20180329', 1) 
    </insert>
</mapper>